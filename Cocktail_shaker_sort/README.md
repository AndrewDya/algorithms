## Сортировка перемешиванием (Cocktail Shaker Sort)

Сортировка перемешиванием (Cocktail Shaker Sort) является вариацией алгоритма сортировки пузырьком. Она работает путем прохода по списку с обоих концов, меняя пары соседних элементов, если они находятся в неправильном порядке. Этот процесс повторяется до тех пор, пока весь список не будет отсортирован.

### Описание алгоритма

1. Инициализируем переменные `left` и `right` со значением первого и последнего индекса списка соответственно.
2. Пока `left` не превышает `right`, выполняем следующие действия:
   - Устанавливаем флаг `swapped` в значение `False`, чтобы отслеживать выполнение обменов элементов.
   - Проходим по списку слева направо от индекса `left` до `right - 1`.
     - Если текущий элемент больше следующего элемента, меняем их местами и устанавливаем флаг `swapped` в значение `True`.
   - Уменьшаем `right` на 1.
   - Проходим по списку справа налево от индекса `right` до `left + 1`.
     - Если текущий элемент меньше предыдущего элемента, меняем их местами и устанавливаем флаг `swapped` в значение `True`.
   - Увеличиваем `left` на 1.
   - Если на текущем проходе не было выполнено ни одного обмена элементов (флаг `swapped` остался равным `False`), завершаем сортировку, так как список уже отсортирован полностью.
3. Возвращаем отсортированный список.

### Пример работы алгоритма

Для наглядности приведем пример работы алгоритма на списке чисел: `[4, 9, 0, 17, 23, 4, 1, 0]`

1. Первый проход:
   - Первый проход слева направо:
     - Сравниваем 4 и 9, не меняем местами.
     - Сравниваем 9 и 0, меняем местами (список: `[4, 0, 9, 17, 23, 4, 1, 0]`).
     - Сравниваем 9 и 17, не меняем местами.
     - Сравниваем 17 и 23, не меняем местами.
     - Сравниваем 23 и 4, меняем местами (список: `[4, 0, 9, 17, 4, 23, 1, 0]`).
     - Сравниваем 23 и 1, меняем местами (список: `[4, 0, 9, 17, 4, 1, 23, 0]`).
     - Сравниваем 23 и 0, меняем местами (список: `[4, 0, 9, 17, 4, 1, 0, 23]`).
   - Первый проход справа налево:
     - Сравниваем 23 и 0, меняем местами (список: `[4, 0, 9, 17, 4, 1, 0, 23]`).
     - Сравниваем 0 и 1, не меняем местами.
     - Сравниваем 1 и 4, не меняем местами.
     - Сравниваем 4 и 17, не меняем местами.
     - Сравниваем 17 и 9, меняем местами (список: `[4, 0, 9, 4, 1, 0, 17, 23]`).
     - Сравниваем 17 и 4, меняем местами (список: `[4, 0, 9, 4, 1, 0, 4, 17]`).
2. Второй проход:
   - Второй проход слева направо:
     - Сравниваем 4 и 0, меняем местами (список: `[0, 4, 9, 4, 1, 0, 4, 17]`).
     - Сравниваем 4 и 9, не меняем местами.
     - Сравниваем 9 и 4, меняем местами (список: `[0, 4, 4, 9, 1, 0, 4, 17]`).
     - Сравниваем 9 и 1, меняем местами (список: `[0, 4, 4, 1, 9, 0, 4, 17]`).
     - Сравниваем 9 и 0, меняем местами (список: `[0, 4, 4, 1, 0, 9, 4, 17]`).
     - Сравниваем 9 и 4, не меняем местами.
     - Сравниваем 9 и 17, не меняем местами.
   - Второй проход справа налево:
     - Сравниваем 9 и 4, меняем местами (список: `[0, 4, 4, 1, 0, 4, 9, 17]`).
     - Сравниваем 4 и 0, меняем местами (список: `[0, 4, 4, 1, 0, 4, 9, 17]`).
     - Сравниваем 4 и 1, меняем местами (список: `[0, 4, 1, 4, 0, 4, 9, 17]`).
3. Третий проход:
   - Третий проход слева направо:
     - Сравниваем 0 и 4, не меняем местами.
     - Сравниваем 4 и 1, меняем местами (список: `[0, 1, 4, 4, 0, 4, 9, 17]`).
     - Сравниваем 4 и 0, меняем местами (список: `[0, 1, 0, 4, 4, 4, 9, 17]`).
     - Сравниваем 4 и 4, не меняем местами.
     - Сравниваем 4 и 9, не меняем местами.
     - Сравниваем 9 и 17, не меняем местами.
   - Третий проход справа налево:
     - Сравниваем 9 и 4, меняем местами (список: `[0, 1, 0, 4, 4, 4, 9, 17]`).
     - Сравниваем 4 и 4, не меняем местами.
4. Четвертый проход:
   - Четвертый проход слева направо:
     - Сравниваем 0 и 1, не меняем местами.
     - Сравниваем 1 и 0, меняем местами (список: `[0, 0, 1, 4, 4, 4, 9, 17]`).
     - Сравниваем 1 и 4, не меняем местами.
     - Сравниваем 4 и 4, не меняем местами.
     - Сравниваем 4 и 4, не меняем местами.
     - Сравниваем 4 и 9, не меняем местами.
     - Сравниваем 9 и 17, не меняем местами.
   - Четвертый проход справа налево:
     - Сравниваем 9 и 4, меняем местами (список: `[0, 0, 1, 4, 4, 4, 9, 17]`).
     - Сравниваем 4 и 4, не меняем местами.
5. Сортировка завершена. Отсортированный список: `[0, 0, 1, 4, 4, 4, 9, 17]`.

### Использование

Пример использования сортировки перемешиванием в Python:

```python
def cocktail_shaker_sort(a, n):
    left, right = 0, n - 1
    while left <= right:
        swapped = False

        for i in range(left, right):
            if a[i] > a[i + 1]:
                a[i], a[i + 1] = a[i + 1], a[i]
                swapped = True
        right -= 1

        for i in range(right, left, -1):
            if a[i] < a[i - 1]:
                a[i], a[i - 1] = a[i - 1], a[i]
                swapped = True
        left += 1

        if not swapped:
            break
    return a

# Пример использования
list_a = [4, 9, 0, 17, 23, 4, 1, 0]
n = len(list_a)
print(cocktail_shaker_sort(list_a, n))
